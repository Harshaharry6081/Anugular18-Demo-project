<div class="todo-container">
  <h2>Todo Management System</h2>
  
  <div class="todo-form">
    <h3>Add New Todo</h3>
    <form (ngSubmit)="onAddTodo()">
      <div class="form-group">
        <label for="todoTitle">Title:</label>
        <input 
          type="text" 
          id="todoTitle" 
          [(ngModel)]="newTodoTitle" 
          name="todoTitle"
          placeholder="Enter todo title"
          required>
      </div>
      
      <div class="form-group">
        <label for="todoDescription">Description:</label>
        <textarea 
          id="todoDescription" 
          [(ngModel)]="newTodoDescription" 
          name="todoDescription"
          placeholder="Enter description">
        </textarea>
      </div>
      
      <div class="form-group">
        <label for="todoPriority">Priority:</label>
        <select id="todoPriority" [(ngModel)]="newTodoPriority" name="todoPriority">
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>
      
      <button type="submit" [disabled]="!newTodoTitle">Add Todo</button>
    </form>
  </div>
  
  <div class="filter-controls">
    <h3>Filters</h3>
    <div>
      <label>
        <input type="radio" name="filter" value="all" [(ngModel)]="filterType">
        All ({{ todos.length }})
      </label>
      
      <label>
        <input type="radio" name="filter" value="active" [(ngModel)]="filterType">
        Active ({{ todos.length - completedTodos }})
      </label>
      
      <label>
        <input type="radio" name="filter" value="completed" [(ngModel)]="filterType">
        Completed ({{ completedTodos }})
      </label>
    </div>
  </div>
  
  <div class="todo-list">
    <h3>Todo List</h3>
    <div *ngIf="filteredTodos.length === 0" class="no-todos">
      No todos found.
    </div>
    
    <div *ngFor="let todo of filteredTodos; trackBy: trackByTodoId" 
         class="todo-item"
         [class.completed]="todo.completed"
         [class.high-priority]="todo.priority === 'high'">
      
      <div class="todo-header">
        <h4 [appHighlight]="todo.priority === 'high' ? 'red' : 'blue'">
          {{ todo.title | capitalize }}
        </h4>
        <span class="priority-badge" [class]="todo.priority">
          {{ todo.priority | capitalize }}
        </span>
      </div>
      
      <p>{{ todo.description }}</p>
      
      <div class="todo-meta">
        <span>Created: {{ todo.createdAt | timeAgo }}</span>
      </div>
      
      <div class="todo-actions">
        <button (click)="onToggleTodo(todo.id)" [class.completed]="todo.completed">
          {{ todo.completed ? 'Mark Incomplete' : 'Mark Complete' }}
        </button>
        <button (click)="onDeleteTodo(todo.id)" class="delete-btn">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>